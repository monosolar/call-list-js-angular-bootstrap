<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Technical task</title>
    <link type="text/css" rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
    <script src="../node_modules/angular/angular.min.js"></script>
    <script src="../node_modules/angular-filter-master/dist/angular-filter.js"></script>
    <script src="../node_modules/angular-ui-bootstrap/dist/ui-bootstrap.js"></script>
    <script src="./index.js"></script>

    <link href="style.css" rel="stylesheet" />

</head>

<body ng-app="app">


    <div class="row-fluid" style="width: 450px">

        <!--Searchline-->
        <div class="greyBG" style="padding: 20px;" >

            <div class="input-group changethisone" >

                <input type="text" class="form-control" data-ng-model="searchText"
                       data-ng-model-options="{ debounce: 250 }"
                       placeholder="Enter name or company or number">

                <span class="input-group-addon">
                    <i class="glyphicon glyphicon-search"></i>
                </span>

            </div>
        </div>

        <hr style="border-top: 1px solid #BBBBBB !important; margin-top: 0px; margin-bottom: 0px" />

        <div class="row-fluid pre-scrollable" ng-controller="index" style=" overflow-x:hidden ">

            <div class="row-fluid" ng-repeat="(key, value) in callList
                                                           | map : getDayByDate
                                                           | groupBy : 'connected' "  >

                <div class="row greyBG"
                     ng-click="dateGroupToggleActive($event)">

                    <div class="col-md-11 col-md-offset-1 greyBG" >
                        <font style="font-weight: bold">Today: {{ key }}</font>
                    </div>
                </div>

                <div>
                    <div class="row-fluid" ng-repeat="call in value | filter: searchText"
                         style="display: flex; align-items: center ">

                        <div class="col-md-1 media">

                            <div ng-if="call.duration > 0" class="media-middle"
                                 ng-switch on="call.direction"
                                 style="height: 100%; min-height: 100%;">

                                <div ng-switch-when="0" class="media-middle">
                                    <img src="./img/diagonal-arrow_up.svg" width="10" />
                                </div>

                                <div ng-switch-when="1">
                                    <img src="./img/diagonal-arrow_down.svg" width="10" />
                                </div>

                            </div>

                        </div>

                        <div class="col-md-8">
                            <div >

                                <div ng-switch on="call.name" ng-class="{missedCall: call.duration == 0}">
                                    <div ng-switch-when="">
                                        <h5 style="font-weight: bold">Unknown caller</h5>
                                    </div>
                                    <div ng-switch-default>
                                        <h5 style="font-weight: bold">{{ call.name }}</h5>
                                    </div>
                                </div>

                                <h6>Phone: {{ call.number }}</h6>

                            </div>

                        </div>


                        <div class="col-md-3 text-right">

                            <div style="padding-right: 10px">

                                <div ng-switch on="call.duration">
                                    <div ng-switch-when="0">
                                        <h5 style="color: #999999">missed</h5>
                                    </div>

                                    <div ng-switch-default>
                                        <h5 style="color: #999999">{{ getCallTime(call.duration) }}</h5>
                                    </div>
                                </div>

                                <img src="./img/call_back.svg"
                                     class="img-responsive pull-right " />

                            </div>

                        </div>

                        <hr style="border-top: 1px solid #EEEEEE !important; margin-top: 10px; margin-bottom: 1px" />


                    </div>

                </div>

            </div>


        </div>

    </div>


</body>

</html>